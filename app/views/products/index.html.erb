<h1>Products</h1>

<div id="form"></div>
<div id="list"></div>

<script id="product-template" type="text/template">
  <p>Name: <%%= name %></p>
  <p>Price: $<%%= price %></p>
  <p>Description: <%%= description %></p>
</script>

<script id="no-products-template" type="text/template">
  <h2>No Products</h2>
</script>

<script id="products-template" type="text/template">
  <h2>Products</h2>
</script>

<script id="form-template" type="text/template">
  <h2>New Product</h2>
  <p>Name: <input type="text" id="name" /></p>
  <p>Price: <input type="number" id="price" /></p>
  <p>Description: <textarea id="description"></textarea></p>
  <p><button>Create</button></p>
</script>

<%= content_for :javascript do -%>
  <%= javascript_tag do %>
    $(function() {
      ProductsApp.products.reset(<%=raw products_array_as_json_helper @products %>);
    });
  <% end %>
<% end -%>
